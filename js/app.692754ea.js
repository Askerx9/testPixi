!function(e){function t(t){for(var i,s,u=t[0],a=t[1],c=t[2],f=0,v=[];f<u.length;f++)s=u[f],r[s]&&v.push(r[s][0]),r[s]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);for(l&&l(t);v.length;)v.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,u=1;u<n.length;u++){var a=n[u];0!==r[a]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={0:0},o=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var u=window.webpackJsonp=window.webpackJsonp||[],a=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=a;o.push([58,1]),n()}({29:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);n(29),n(15),n(21);var i=n(14);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clientX=-100,this.clientY=-100,this.scale=1,this.innerCursor=document.querySelector(".cursor--small"),this.links=document.querySelectorAll(".slider__navigation")}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"init",value:function(){var e=this;document.addEventListener("mousemove",function(t){e.clientX=t.clientX,e.clientY=t.clientY});for(var t=0;t<this.links.length;t++){var n=this.links[t];n.addEventListener("mouseenter",function(){e.scale=6}),n.addEventListener("mouseleave",function(){e.scale=1})}requestAnimationFrame(this.render.bind(this))}},{key:"render",value:function(){i.a.set(this.innerCursor,{x:this.clientX,y:this.clientY}),i.a.to(this.innerCursor,.2,{x:this.clientX,y:this.clientY,scale:this.scale}),requestAnimationFrame(this.render.bind(this))}}]),e}(),s=(n(40),n(48),n(9)),u=n(0),a=n(1),c=n(13),l=n(5);function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=document.querySelector(t),this.children=[].slice.call(this.element.children),this.options=Object.assign({},{infinite:!0,slideVisible:1,slideToScroll:1},n),this.current=0,this.offset=0,this.nextElement,this.splitCity=new c.a(".title",{type:"lines, words",linesClass:"line",wordsClass:"word"}),this.splitCountry=new c.a(".title + p",{type:"lines, words",linesClass:"line",wordsClass:"word"}),this.setStyle(),this.setCanvas(),this.setPostion(),this.navigation()}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"navigation",value:function(){var e=document.querySelector(".slider__navigation--next"),t=document.querySelector(".slider__navigation--previous");e.addEventListener("click",this.next.bind(this)),t.addEventListener("click",this.prev.bind(this))}},{key:"next",value:function(e){e.preventDefault(),this.goToItem(this.current+this.options.slideToScroll,"next")}},{key:"prev",value:function(e){e.preventDefault(),this.goToItem(this.current-this.options.slideToScroll,"prev")}},{key:"goToItem",value:function(e,t){var n=this,i=this.children[this.current],r=i.querySelector(".title .word"),o=i.querySelector(".title + p .word");e<0?e=this.children.length-this.options.slideVisible:(e>=this.children.length||void 0===this.children[this.current+this.options.slideVisible]&&e>this.current)&&(e=0),this.current=e,this.nextElement=0==this.current?this.children.length-1:this.current==this.children.length-1?0:this.current+1;var c=this.children[e],l=c.querySelector(".title .word"),f=c.querySelector(".title + p .word"),v="next"==t?"-100%":"100%",d="next"==t?"100%":"-100%",h="next"==t?-window.innerWidth:window.innerWidth,p="next"==t?window.innerWidth:-window.innerWidth,y=new s.a({onComplete:function(){n.updatePosition()}});y.to(r,.4,{y:v,ease:u.c.easeInOut},"#start"),y.to(o,.4,{y:v,ease:u.c.easeInOut},"-=0.2"),y.to(i,.4,{scale:.6,ease:a.a.easeOut.config(1.7)}),y.to(i,.6,{x:h,ease:u.c.easeInOut,delay:.2}),y.fromTo(c,.6,{opacity:1,scale:.6,x:p,ease:u.c.easeInOut},{opacity:1,x:0},"-=0.5"),y.to(c,.4,{scale:1,ease:a.a.easeOut.config(1.7)}),y.fromTo(l,.4,{y:d,ease:u.c.easeInOut},{y:"0%"}),y.fromTo(f,.4,{y:d,ease:u.c.easeInOut},{y:"0%"},"-=0.2")}},{key:"setStyle",value:function(){this.children.map(function(e){e.style.opacity="0"}),this.children[0].style.removeProperty("opacity")}},{key:"setPostion",value:function(){document.querySelector(".slider__position__actif").innerHTML=this.current<10?"0".concat(this.current+1):this.current+1,document.querySelector(".slider__position__total").innerHTML=this.children.length<10?"0".concat(this.children.length):this.children.length}},{key:"updatePosition",value:function(){document.querySelector(".slider__position__actif").innerHTML=this.current<10?"0".concat(this.current+1):this.current+1}},{key:"setCanvas",value:function(){var e=new l.b(45,1,.1,1e4),t=e.fov*Math.PI/180,n=Math.abs(e.position.z*Math.tan(t/2)*2);new l.c(1.5*n,n,60,60),new l.d({uniforms:{u_progress:{type:"f",value:0},u_direction:{type:"f",value:1},u_waveIntensity:{type:"f",value:0}},vertexShader:"\n#define PI 3.14159265359\nuniform float u_offset;\nuniform float u_progress;\nuniform float u_direction;\nuniform float u_time;\nuniform float u_waveIntensity;\nvarying vec2 vUv;\nvoid main(){\n    vec3 pos = position.xyz;\n\n    float distance = length(uv.xy - 0.5 );\n    float sizeDist = length(vec2(0.5,0.5));\n    float normalizedDistance = distance/sizeDist ;\n\n    float stickOutEffect = normalizedDistance ;\n    float stickInEffect = -normalizedDistance ;\n\n    \n    float stickEffect = mix(stickOutEffect,stickInEffect, u_direction);\n\n    // Backwards V wave.\n    float stick = 0.5;\n\n    float waveIn = u_progress*(1. / stick); \n    float waveOut =  -( u_progress - 1.) * (1./(1.-stick) );\n    waveOut = pow(smoothstep(0.,1.,waveOut),0.7);\n\n    float stickProgress = min(waveIn, waveOut);\n\n\n\n\n\n    // We can re-use stick Influcse because this oen starts at the same position\n    float offsetInProgress = clamp(waveIn,0.,1.);\n\n    // Invert stickout to get the slope moving upwards to the right\n    // and move it left by 1\n    float offsetOutProgress = clamp(1.-waveOut,0.,1.);\n\n    float offsetProgress = mix(offsetInProgress,offsetOutProgress,u_direction);\n\n\n    float stickOffset = u_offset;\n    pos.z += stickEffect * stickOffset * stickProgress  - u_offset * offsetProgress;\n\n    \n    pos.z += sin(distance * 8. - u_time * 2. )  * u_waveIntensity;\n\n    gl_Position =   \n        projectionMatrix * \n        modelViewMatrix * \n         vec4(pos, 1.0);\n\n    vUv = uv;\n}\n",fragmentShader:"\nuniform vec2 u_resolution;\n\nuniform sampler2D u_texture;\nuniform sampler2D u_texture2;\nuniform vec2 u_textureFactor;\nuniform vec2 u_texture2Factor;\nuniform float u_textureProgress;\n\n// RGB\nuniform vec2 u_rgbPosition;\nuniform vec2 u_rgbVelocity;\n\nvarying vec2 vUv;\nvec2 centeredAspectRatio(vec2 uvs, vec2 factor){\n    return uvs * factor - factor /2. + 0.5;\n}\nvoid main(){\n    // On THREE 102 The image is has Y backwards\n    // vec2 flipedUV = vec2(vUv.x,1.-vUv.y);\n\n    vec2 normalizedRgbPos = u_rgbPosition / u_resolution;\n    normalizedRgbPos.y = 1. - normalizedRgbPos.y; \n\n    \n    vec2 vel = u_rgbVelocity;\n    float dist = distance(normalizedRgbPos + vel / u_resolution, vUv.xy);\n\n    float ratio = clamp(1.0 - dist * 5., 0., 1.);\n\n\n    vec4 tex1 = vec4(1.);\n    vec4 tex2 = vec4(1.);\n\n    vec2 uv = vUv;\n\n    uv.x -= sin(uv.y) * ratio / 100. * (vel.x + vel.y) / 7.;\n    uv.y -= sin(uv.x) * ratio / 100. * (vel.x + vel.y) / 7.;\n\n    tex1.r = texture2D(u_texture, centeredAspectRatio(uv, u_textureFactor )).r;\n    tex2.r = texture2D(u_texture2, centeredAspectRatio(uv, u_textureFactor )).r;\n\n    \n    uv.x -= sin(uv.y) * ratio / 150. * (vel.x + vel.y) / 7.;\n    uv.y -= sin(uv.x) * ratio / 150. * (vel.x + vel.y) / 7.;\n\n    tex1.g = texture2D(u_texture, centeredAspectRatio(uv, u_textureFactor )).g;\n    tex2.g = texture2D(u_texture2, centeredAspectRatio(uv, u_textureFactor )).g;\n    \n    uv.x -= sin(uv.y) * ratio / 300. * (vel.x + vel.y) / 7.;\n    uv.y -= sin(uv.x) * ratio / 300. * (vel.x + vel.y) / 7.;\n\n    tex1.b = texture2D(u_texture, centeredAspectRatio(uv, u_textureFactor )).b;\n    tex2.b = texture2D(u_texture2, centeredAspectRatio(uv, u_textureFactor )).b;\n     \n    \n\n\n    vec4 fulltex1 = texture2D(u_texture, centeredAspectRatio(vUv, u_textureFactor) );\n    vec4 fulltex2 = texture2D(u_texture2, centeredAspectRatio(vUv, u_texture2Factor));\n    \n    vec4 mixedTextures =  mix(tex1,tex2,u_textureProgress);\n\n    gl_FragColor = mixedTextures;\n}\n",side:l.a})}}]),e}();(new o).init(),new v(".slider__list"),function(){var e=document.createElement("script");e.onload=function(){var e=new Stats;document.body.appendChild(e.dom),requestAnimationFrame(function t(){e.update(),requestAnimationFrame(t)})},e.src="//mrdoob.github.io/stats.js/build/stats.min.js",document.head.appendChild(e)}()}});
//# sourceMappingURL=app.692754ea.js.map